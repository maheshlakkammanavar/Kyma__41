"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.updatePackageScript = void 0;
const path_1 = require("path");
const constants_1 = require("../constants");
const file_1 = require("../file");
/**
 * Updates the package.json with a new script.
 *
 * @param basePath - the base path
 * @param scriptName - the script name
 * @param script - the script content
 * @param fs - optional memfs editor instance
 */
async function updatePackageScript(basePath, scriptName, script, fs) {
    const filePath = (0, path_1.join)(basePath, constants_1.FileName.Package);
    const packageJson = await (0, file_1.readJSON)(filePath, fs);
    if (!packageJson.scripts) {
        packageJson.scripts = {};
    }
    packageJson.scripts[scriptName] = script;
    await (0, file_1.updatePackageJSON)(filePath, packageJson, fs);
}
exports.updatePackageScript = updatePackageScript;
//# sourceMappingURL=script.js.map